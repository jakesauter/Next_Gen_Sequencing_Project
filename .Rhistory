---
title: "In-class-Rmarkdown"
author: "Jake Sauter"
date: "1/13/2021"
output: html_document
---
getwd()
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
all_txt_files <- system('find *.txt')
all_txt_files <- system('locate *.txt')
all_txt_files <- system('locate *.txt', intern = TRUE)
basename(all_txt_files)
txt_file_names <- asename(all_txt_files)
txt_file_names <- basename(all_txt_files)
basenames
txt_file_names
files <- list.files(path = all_txt_files)
files
list.files(path = all_txt_files)
list.files(path = all_txt_files[1])
all_txt_files <- system('locate *.txt', intern = TRUE)
list.files(path = all_txt_files[1])
?list.files
file.info(all_txt_files[1])
file.info(all_txt_files[1:10])
file_info <- file.info(all_txt_files)
file_info %>% head
library(tidyverse)
file_info %>% head
file_info$mtime
modified_times <- file_info$mtime
last_week <- ymd('2021/02/10')
library(lubridate)
last_week <- ymd('2021/02/10')
modified_times > last_week
modified_times[modified_times > last_week]
all_txt_files[modified_times > last_week]
basenames <- basename(all_txt_files)
basename[modified_times > last_week]
basenames[modified_times > last_week]
all_txt_files[modified_times > last_week]
all_txt_files[modified_times > last_week]
all_txt_files[modified_times > last_week] %>% unlist
all_txt_files[modified_times > last_week] %>% unlist
lubridate::Compare
showMethods("Compare")
file_info[1:10]
file_info[1]
file_info[1, ]
file_info$uname %>% unqieu
file_info$uname %>% unique
basenames[file_info$uname == "x1"]
basenames[file_info$uname == "x1" & file_info$mtime > last_week]
all_txt_files[file_info$uname == "x1" & file_info$mtime > last_week]
grep("Documents", all_txt_files)
grep("Documents", all_txt_files)
?grep
basenames[file_info$uname == "x1" &
file_info$mtime > last_week &
grepl("Documents", all_txt_files)]
file_info$uname == "x1" &
file_info$mtime > last_week &
grepl("Documents", all_txt_files)
file_info$uname == "x1" &
file_info$mtime > last_week &
grepl("Documents", all_txt_files) %>% whcih
file_info$uname == "x1" &
file_info$mtime > last_week &
grepl("Documents", all_txt_files) %>% which
which (file_info$uname == "x1" &
file_info$mtime > last_week &
grepl("Documents", all_txt_files))
basenames[file_info$uname == "x1" &
file_info$mtime > last_week &
grepl("Documents", all_txt_files)]
basenames[file_info$mtime > last_week &
grepl("Documents", all_txt_files)]
all_txt_files[file_info$mtime > last_week &
grepl("Documents", all_txt_files)]
all_txt_files[file_info$mtime == last_week &
grepl("Documents", all_txt_files)]
last_week <- ymd('2021/02/9')
all_txt_files[file_info$mtime > last_week &
grepl("Documents", all_txt_files)]
last_week <- ymd('2021/02/9')
last_week <- ymd('2021/02/10')
day(last_week)
day(file_info$mtime)
file_info$mtime
lubridate::date(file_info$mtime)
modified_times <- date(file_info$mtime)
library(lubridate)
last_week <- ymd('2021/02/9')
lubridate::Compare
file_info$mtime
modified_times
edit_dates <- date(file_info$mtime)
known_edit_date <- ymd('2021/02/9')
all_txt_files[edit_dates == known_edit_date &
grepl("Documents", all_txt_files)]
all_txt_files[edit_dates == known_edit_date]
source('~/Documents/Weill_Cornell/ANGSD/angsd_project/R/find_my_file.R', echo=TRUE)
which(edit_dates == known_edit_date)
known_edit_date <- ymd('2021/02/10')
all_txt_files[edit_dates == known_edit_date]
basenames[edit_dates == known_edit_date]
all_txt_files <- system('locate *.sh', intern = TRUE)
basenames <- basename(all_txt_files)
file_info <- file.info(all_txt_files)
edit_dates <- date(file_info$mtime)
known_edit_date <- ymd('2021/02/10')
basenames[edit_dates == known_edit_date]
known_edit_date <- ymd('2021/02/9')
basenames[edit_dates > known_edit_date]
all_txt_files[edit_dates > known_edit_date]
edit_dates > known_edit_date
which(edit_dates > known_edit_date)
all_txt_files[edit_dates > known_edit_date]
all_txt_files[which(edit_dates > known_edit_date)]
all_txt_files <- system('locate *', intern = TRUE)
basenames <- basename(all_txt_files)
file_info <- file.info(all_txt_files)
edit_dates <- date(file_info$mtime)
known_edit_date <- ymd('2021/02/10')
all_txt_files[which(edit_dates == known_edit_date)]
known_edit_date <- ymd('2021/02/11')
all_txt_files[which(edit_dates == known_edit_date)]
known_edit_date <- ymd('2021/02/12')
all_txt_files[which(edit_dates == known_edit_date)]
edit_dates <- date(file_info$ctime)
known_edit_date <- ymd('2021/02/10')
all_txt_files[which(edit_dates == known_edit_date)]
?file.info
edit_dates <- date(file_info$atime)
known_edit_date <- ymd('2021/02/10')
all_txt_files[which(edit_dates == known_edit_date)]
stringr::str_length('TCCTACATGCCCTGGCCCCTCCCCTTCATCTGACCCTGACCTCGACTCAC')
browseVignettes(package = 'FastQCPlotR')
getwd()
filepath <- '/home/x1/Documents/Weill_Cornell/ANGSD/angsd_project/accession_tables/Sra_run_table.txt'
read.csv(filepath)
read.csv(filepath, header = TRUE)
knitr::opts_chunk$set(echo = TRUE, eval=FALSE)
df <- read.csv(filepath,
header = TRUE) %>%
as.data.frame()
library(tidyverse)
library(tidyverse)
df <- read.csv(filepath,
header = TRUE) %>%
as.data.frame()
df
df %>% head
df %>% head(3)
df$Experiment %>% unique
df %>%
group_by(Diagnosis) %>%
summarise(n())
df %>% head(3)
df %>% name
df %>% names
library(tidyverse)
df <- read.csv(filepath,
header = TRUE) %>%
as.data.frame()
df %>%
group_by(Diagnosis, Cell_type) %>%
summarise(n())
library(tidyverse)
df <- read.csv(filepath,
header = TRUE) %>%
as.data.frame()
df %>%
group_by(Diagnosis, Cell_type) %>%
summarise(Num_Samples=n())
df %>%
filter(Cell_type = 'myeloid')
df %>%
filter(Cell_type == 'myeloid')
df %>%
filter(Cell_type == 'myeloid') %>%
group_by(Diagnosis)
df %>%
filter(Cell_type == 'myeloid') %>%
group_by(Diagnosis, sex)
df %>%
filter(Cell_type == 'myeloid') %>%
group_by(Diagnosis, sex) %>%
summarise(Num_Samples=n())
df %>%
filter(Cell_type == 'myeloid',
!is.na(sex)) %>%
group_by(Diagnosis, sex) %>%
summarise(Num_Samples=n())
df %>%
filter(Cell_type == 'myeloid',
!is.na(sex)) %>%
group_by(Diagnosis, sex) %>%
sample_n(3)
df %>%
filter(Cell_type == 'myeloid',
!is.na(sex)) %>%
group_by(Diagnosis, sex) %>%
sample_n(3) %>%
ungroup()
names(df)
df %>%
filter(Cell_type == 'myeloid',
!is.na(sex)) %>%
group_by(Diagnosis, sex) %>%
sample_n(3) %>%
ungroup() %>%
select("Run", "Sex", "Cell_type", "Diagnosis", "expired_age")
df %>%
filter(Cell_type == 'myeloid',
!is.na(sex)) %>%
group_by(Diagnosis, sex) %>%
sample_n(3) %>%
ungroup() %>%
select("Run", "sex", "Cell_type", "Diagnosis", "expired_age")
df %>%
filter(Cell_type == 'myeloid',
!is.na(sex)) %>%
group_by(Diagnosis, sex) %>%
sample_n(3) %>%
ungroup() %>%
select("Run", "Cell_type", "sex",  "Diagnosis", "expired_age")
print('Acession_nums: ', df$Run)
df
df$Run
library(tidyverse)
df <- read.csv(filepath,
header = TRUE,
stringsAsFactors = FALSE) %>%
as.data.frame()
df %>%
group_by(Diagnosis, Cell_type) %>%
summarise(Num_Samples=n())
df %>%
filter(Cell_type == 'myeloid',
!is.na(sex)) %>%
group_by(Diagnosis, sex) %>%
summarise(Num_Samples=n())
df <- df %>%
filter(Cell_type == 'myeloid',
!is.na(sex)) %>%
group_by(Diagnosis, sex) %>%
sample_n(3) %>%
ungroup() %>%
select("Run", "Cell_type", "sex",  "Diagnosis", "expired_age")
print(df)
print('Acession_nums: ', as.character(df$Run)
print('Acession_nums: ', df$Run)
print('Acession_nums: ', as.character(df$Run))
as.character(df$Run)
accession_nums <- as.character(df$Run)
accession_nums <- as.character(df$Run)
cat('Acession_nums: ', accession_nums)
library(tidyverse)
df <- read.csv(filepath,
header = TRUE,
stringsAsFactors = FALSE) %>%
as.data.frame()
df %>%
group_by(Diagnosis, Cell_type) %>%
summarise(Num_Samples=n())
df %>%
filter(Cell_type == 'myeloid',
!is.na(sex)) %>%
group_by(Diagnosis, sex) %>%
summarise(Num_Samples=n())
accession_nums %>% dput
filepath <- "accession_tables/Sra_run_table.txt"
df <- read.csv(filepath,
header = TRUE,
stringsAsFactors = FALSE) %>%
as.data.frame()
df %>%
group_by(Diagnosis, Cell_type) %>%
summarise(Num_Samples=n())
for fastq_file in $trimmed_files; do
base=$(basename $fastq_file)
prefix=$(echo $fastq_file | egrep -o "SRR[0-9]+")
df <- read.csv('~/Desktop/salaries.csv',
header = TRUE,
stringsAsFactors = FALSE)
library(tidyverse)
names(df)
df %>%
filter(str_detect('New York', Location))
df %>%
filter(str_detect('New York', Location)) %>% .$Location
df %>%
filter(str_detect('New York', Location)) %>%
select(Title, Years.of.experience, Industry)
df %>%
filter(str_detect('New York', Location)) %>%
select(Title, Years.of.experience, Industry) %>%
arrange(Years.of.experience)
df %>%
filter(str_detect('New York', Location)) %>%
select(Title, Years.of.experience, Industry) %>%
mutate(Years.of.experience = as.numeric(Years.of.experience)) %>%
arrange(Years.of.experience)
df %>%
filter(str_detect('New York', Location)) %>%
select(Title, Years.of.experience, Salary, Industry) %>%
mutate(Years.of.experience = as.numeric(Years.of.experience)) %>%
arrange(Years.of.experience)
df %>%
filter(str_detect('New York', Location)) %>%
select(Title, Years.of.experience, Salary, Industry) %>%
mutate(Years.of.experience = as.numeric(Years.of.experience)) %>%
arrange(Years.of.experience)
str_detect(c('a', 'b', 'c'), 'hellow')
str_detect(c('a', 'b', 'c'), 'hello')
str_detect(c('a', 'e', 'c'), 'hello')
str_detect('e', 'hello')
?str_detect
str_detect('hello', c('a', 'b', 'c'))
str_detect('hello', c('a', 'b', 'e'))
df %>%
filter(any(str_detect('New York', Location))) %>%
select(Title, Years.of.experience, Salary, Industry) %>%
mutate(Years.of.experience = as.numeric(Years.of.experience)) %>%
arrange(Years.of.experience)
df <- read.csv('~/Desktop/salaries.csv',
header = TRUE,
stringsAsFactors = FALSE) %>%
mutate(Years.of.experience = as.numeric(Years.of.experience))
df <- read.csv('~/Desktop/salaries.csv',
header = TRUE,
stringsAsFactors = FALSE) %>%
mutate(Years.of.experience =
as.numeric(Years.of.experience))
df %>%
filter(any(str_detect('New York', Location))) %>%
select(Title, Years.of.experience, Salary, Industry) %>%
arrange(Years.of.experience)
df %>%
filter(any(str_detect(Location, 'New York'))) %>%
select(Title, Years.of.experience, Salary, Industry) %>%
arrange(Years.of.experience)
df %>%
filter(any(str_detect(Location, 'New York'))) %>%
select(Title, Years.of.experience, Salary, Industry) %>%
arrange(Years.of.experience) %>%
.$Location
df %>%
filter(any(str_detect(Location, 'New York'))) %>%
select(Title, Years.of.experience, Salary, Industry, Location) %>%
arrange(Years.of.experience) %>%
.$Location
df %>%
filter(str_detect(Location, 'New York')) %>%
select(Title, Years.of.experience, Salary, Industry, Location) %>%
arrange(Years.of.experience) %>%
.$Location
df %>%
filter(str_detect(Location, 'New York') |
str_detect(Location, "NY")) %>%
select(Title, Years.of.experience, Salary, Industry, Location) %>%
arrange(Years.of.experience) %>%
.$Location
df %>%
filter(str_detect(Location, 'New York') |
str_detect(Location, "NY")) %>%
select(Title, Years.of.experience, Salary, Industry, Location) %>%
arrange(Years.of.experience)
df %>%
filter(str_detect(Location, 'New York') |
str_detect(Location, "NY")) %>%
select(Title, Years.of.experience, Salary, Industry, Location) %>%
arrange(Years.of.experience)
df %>%
filter(str_detect(Location, 'New York') |
str_detect(Location, "NY")) %>%
select(Title, Years.of.experience, Salary, Industry) %>%
arrange(Years.of.experience)
df %>%
filter(str_detect(Location, 'New York') |
str_detect(Location, "NY")) %>%
select(Title, Years.of.experience, Salary, Industry) %>%
arrange(Years.of.experience) %>%
head()
df %>%
filter(str_detect(Location, 'New York') |
str_detect(Location, "NY")) %>%
select(Title, Years.of.experience, Salary, Industry) %>%
arrange(Years.of.experience)
df %>%
filter(str_detect(Location, 'New York') |
str_detect(Location, "NY")) %>%
select(Title, Years.of.experience, Salary, Industry) %>%
arrange(Years.of.experience)
df %>%
filter(str_detect(Location, 'New York') |
str_detect(Location, "NY")) %>%
select(Title, Years.of.experience, Salary, Industry) %>%
arrange(Years.of.experience)
df %>%
filter(str_detect(Location, 'New York') |
str_detect(Location, "NY")) %>%
select(Title, Years.of.experience, Salary, Industry) %>%
mutate(Industry=ifelse(str_length(Industry) > 30,
str_sub(Industry, 1, 30), Industry)) %>%
arrange(Years.of.experience)
df %>%
filter(str_detect(Location, 'New York') |
str_detect(Location, "NY")) %>%
select(Title, Years.of.experience, Salary, Industry) %>%
mutate(Industry=ifelse(str_length(Industry) > 30,
str_sub(Industry, 1, 30), Industry)) %>%
arrange(Years.of.experience)
df %>%
filter(str_detect(Location, 'New York') |
str_detect(Location, "NY")) %>%
select(Title, Years.of.experience, Salary, Industry) %>%
mutate(Industry=ifelse(str_length(Industry) > 30,
str_sub(Industry, 1, 30), Industry)) %>%
arrange(Years.of.experience)
df %>%
filter(str_detect(Location, 'New York') |
str_detect(Location, "NY")) %>%
select(Title, Years.of.experience, Salary, Industry, Location) %>%
arrange(Years.of.experience) %>%
.$Location
df %>%
select(Industry)
df %>%
select(Industry) %>%
ggplot() +
geom_bar()
df %>%
select(Industry) %>%
ggplot() +
geom_bar(aes(x=Industry))
df %>%
group_by(Industry)
df %>%
group_by(Industry) %>%
summarise(Num_people=n())
df %>%
group_by(Industry) %>%
summarise(Num_people=n()) %>%
arrange(Num_people)
df %>%
group_by(Industry) %>%
summarise(Num_people=n()) %>%
arrange(desc(Num_people))
read_counts_file <- "/home/x1/Documents/Weill_Cornell/ANGSD/angsd_project/featCounts/featCounts_genes_trimmed.txt"
read_counts <- read.table(read_counts_file, header=TRUE)
read_counts
read_counts_file <- "/home/x1/Documents/Weill_Cornell/ANGSD/angsd_project/featCounts/featCounts_genes_trimmed.txt"
read_counts <- read.table(read_counts_file, header=TRUE)
read_counts
